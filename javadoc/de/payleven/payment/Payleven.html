<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Thu Mar 05 18:05:52 CET 2015 -->
<title>Payleven (library 1.0.0 API)</title>
<meta name="date" content="2015-03-05">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Payleven (library 1.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../de/payleven/payment/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>version 1.0.0</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../de/payleven/payment/PairedDevice.html" title="class in de.payleven.payment"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../de/payleven/payment/PaylevenCommunicationService.html" title="class in de.payleven.payment"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?de/payleven/payment/Payleven.html" target="_top">Frames</a></li>
<li><a href="Payleven.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">de.payleven.payment</div>
<h2 title="Class Payleven" class="title">Class Payleven</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>de.payleven.payment.Payleven</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Payleven</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">In order to start accepting payment through payleven you need to instantiated a
 <a href="../../../de/payleven/payment/Payleven.html" title="class in de.payleven.payment"><code>Payleven</code></a> object. All
 Payleven API methods require the following permissions:
 <br>
 <pre >
 &lt;uses-permission android:name="android.permission.BLUETOOTH" /&gt;
 &lt;uses-permission android:name="android.permission.BLUETOOTH_ADMIN" /&gt;
 &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
 &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
 </pre>
 <p/>
 Also the following services and receivers must be added:
 <br>
 <pre>
 &lt;service android:name="de.payleven.payment.PaylevenCommunicationService"
     android:exported="false"
     android:process=":payleven" /&gt;

 &lt;!-- Required for bluetooth communication with the terminal --&gt;
 &lt;receiver android:name="com.adyen.adyenpos.receiver.BluetoothState" &gt;
     &lt;intent-filter&gt;
         &lt;action android:name="android.bluetooth.adapter.action.STATE_CHANGED" /&gt;
         &lt;action android:name="android.bluetooth.device.action.UUID" /&gt;
     &lt;/intent-filter&gt;
 &lt;/receiver&gt;

 &lt;!-- Required for bluetooth communication with the terminal --&gt;
 &lt;service android:name="com.adyen.adyenpos.service.TerminalConnectIntentService" /&gt;
 </pre>
 <p/>
 Once the permissions and services are added you will be able to get the instance of
 <a href="../../../de/payleven/payment/Payleven.html" title="class in de.payleven.payment"><code>Payleven</code></a> through
 <a href="../../../de/payleven/payment/PaylevenFactory.html#registerAsync(android.content.Context,%20java.lang.String,%20java.lang.String,%20java.lang.String,%20de.payleven.payment.PaylevenRegistrationListener)"><code>PaylevenFactory.registerAsync(android.content.Context,
 String, String, String, PaylevenRegistrationListener)</code></a> method.
 <p>
 After the instance is created you will need to "prepare" the device for payment. This
 should be done by calling <a href="../../../de/payleven/payment/Payleven.html#prepareDevice(de.payleven.payment.PairedDevice,%20de.payleven.payment.DevicePreparationListener)"><code>prepareDevice(PairedDevice, DevicePreparationListener)</code></a> with
 one of the devices returned from <a href="../../../de/payleven/payment/Payleven.html#getPairedDevices()"><code>getPairedDevices()</code></a> method. Preparation implies
 checking if the device is correctly configured for your account and is currently connected to
 the android device.
 </p>
 <p>After device preparation is completed you will receive an instance of
 <a href="../../../de/payleven/payment/Device.html" title="class in de.payleven.payment"><code>Device</code></a> which can be used for payment. Note that
 <a href="../../../de/payleven/payment/PairedDevice.html" title="class in de.payleven.payment"><code>PairedDevice</code></a> and
 <a href="../../../de/payleven/payment/Device.html" title="class in de.payleven.payment"><code>Device</code></a> instances will share the same <code>id</code>.
 </p>
 <p>
 It is recommended to run device preparation before each payment. If the device is already
 configured(preparation was run
 before) and connected then the callback will be fired immediately. So there is no
 performance or time overhead. With preparation you can
 guarantee that bluetooth device is connected to the android device at this particular moment.
 So you can start your payment right away.
 </p>
 <p>
 In order to make a payment create an instance of <a href="../../../de/payleven/payment/PaymentTask.html" title="class in de.payleven.payment"><code>PaymentTask</code></a> with
 <a href="../../../de/payleven/payment/Payleven.html#createPaymentTask(de.payleven.payment.PaymentRequest,%20de.payleven.payment.Device)"><code>createPaymentTask(PaymentRequest, Device)</code></a> method. Pass the received
 <a href="../../../de/payleven/payment/Device.html" title="class in de.payleven.payment"><code>Device</code></a> and <a href="../../../de/payleven/payment/PaymentRequest.html" title="class in de.payleven.payment"><code>PaymentRequest</code></a> as parameters.
 The task can be then started with the
 <a href="../../../de/payleven/payment/PaymentTask.html#startAsync(de.payleven.payment.PaymentListener)"><code>PaymentTask.startAsync(PaymentListener)</code></a> method.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../de/payleven/payment/PaymentTask.html" title="class in de.payleven.payment">PaymentTask</a></code></td>
<td class="colLast"><code><strong><a href="../../../de/payleven/payment/Payleven.html#createPaymentTask(de.payleven.payment.PaymentRequest,%20de.payleven.payment.Device)">createPaymentTask</a></strong>(<a href="../../../de/payleven/payment/PaymentRequest.html" title="class in de.payleven.payment">PaymentRequest</a>&nbsp;paymentRequest,
                 <a href="../../../de/payleven/payment/Device.html" title="class in de.payleven.payment">Device</a>&nbsp;device)</code>
<div class="block">Creates a payment task which is used to initiate payment process.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../de/payleven/payment/PairedDevice.html" title="class in de.payleven.payment">PairedDevice</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../de/payleven/payment/Payleven.html#getPairedDevices()">getPairedDevices</a></strong>()</code>
<div class="block">Returns payleven bluetooth devices that are paired with the current android
 device</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../de/payleven/payment/Payleven.html#isDevicePrepared(java.lang.String)">isDevicePrepared</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;deviceId)</code>
<div class="block">Checks if the device with the provided id is ready for a payment.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../de/payleven/payment/Payleven.html#prepareDevice(de.payleven.payment.PairedDevice,%20de.payleven.payment.DevicePreparationListener)">prepareDevice</a></strong>(<a href="../../../de/payleven/payment/PairedDevice.html" title="class in de.payleven.payment">PairedDevice</a>&nbsp;pairedDevice,
             <a href="../../../de/payleven/payment/DevicePreparationListener.html" title="interface in de.payleven.payment">DevicePreparationListener</a>&nbsp;listener)</code>
<div class="block">Initiates the process of preparing the specified device for payment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../de/payleven/payment/Device.html" title="class in de.payleven.payment">Device</a></code></td>
<td class="colLast"><code><strong><a href="../../../de/payleven/payment/Payleven.html#prepareDeviceAndWait(de.payleven.payment.PairedDevice)">prepareDeviceAndWait</a></strong>(<a href="../../../de/payleven/payment/PairedDevice.html" title="class in de.payleven.payment">PairedDevice</a>&nbsp;pairedDevice)</code>
<div class="block">Does the job similar  to <a href="../../../de/payleven/payment/Payleven.html#prepareDevice(de.payleven.payment.PairedDevice,%20de.payleven.payment.DevicePreparationListener)"><code>prepareDevice(PairedDevice, DevicePreparationListener)</code></a>
 but is synchronous.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="prepareDevice(de.payleven.payment.PairedDevice, de.payleven.payment.DevicePreparationListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareDevice</h4>
<pre>public&nbsp;void&nbsp;prepareDevice(<a href="../../../de/payleven/payment/PairedDevice.html" title="class in de.payleven.payment">PairedDevice</a>&nbsp;pairedDevice,
                 <a href="../../../de/payleven/payment/DevicePreparationListener.html" title="interface in de.payleven.payment">DevicePreparationListener</a>&nbsp;listener)</pre>
<div class="block">Initiates the process of preparing the specified device for payment. The process may involve
 both network and bluetooth communication if the device is being prepared for the first time.
 Once the preparation is successfully completed the valid device is passed in the callback.
 This valid device can be used for creating and starting the
 <a href="../../../de/payleven/payment/PaymentTask.html" title="class in de.payleven.payment"><code>PaymentTask</code></a>. Valid device means
 identified and connected. Note that bluetooth connection may drop during the payment process.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pairedDevice</code> - device to add</dd><dd><code>listener</code> - reacts on the result of the operation</dd></dl>
</li>
</ul>
<a name="prepareDeviceAndWait(de.payleven.payment.PairedDevice)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareDeviceAndWait</h4>
<pre>public&nbsp;<a href="../../../de/payleven/payment/Device.html" title="class in de.payleven.payment">Device</a>&nbsp;prepareDeviceAndWait(<a href="../../../de/payleven/payment/PairedDevice.html" title="class in de.payleven.payment">PairedDevice</a>&nbsp;pairedDevice)</pre>
<div class="block">Does the job similar  to <a href="../../../de/payleven/payment/Payleven.html#prepareDevice(de.payleven.payment.PairedDevice,%20de.payleven.payment.DevicePreparationListener)"><code>prepareDevice(PairedDevice, DevicePreparationListener)</code></a>
 but is synchronous. This method must be executed on the background thread. Otherwise will
 through an exception if executed on the main thread.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pairedDevice</code> - device to prepare</dd>
<dt><span class="strong">Returns:</span></dt><dd>device which is ready for payments</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../de/payleven/payment/NetworkError.html" title="class in de.payleven.payment">NetworkError</a></code> - in case of no network or internet connection</dd>
<dd><code><a href="../../../de/payleven/payment/BluetoothError.html" title="class in de.payleven.payment">BluetoothError</a></code> - in case of bluetooth problems with the device</dd>
<dd><code><a href="../../../de/payleven/payment/PaylevenError.html" title="class in de.payleven.payment">PaylevenError</a></code> - an unexpected error. This is also a superclass of
                        all other Payleven errors, so you may want to only
                        handle this error which indicates that
                        some kind of error has occurred</dd></dl>
</li>
</ul>
<a name="getPairedDevices()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPairedDevices</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../de/payleven/payment/PairedDevice.html" title="class in de.payleven.payment">PairedDevice</a>&gt;&nbsp;getPairedDevices()</pre>
<div class="block">Returns payleven bluetooth devices that are paired with the current android
 device</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>set of paired devices</dd></dl>
</li>
</ul>
<a name="createPaymentTask(de.payleven.payment.PaymentRequest, de.payleven.payment.Device)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createPaymentTask</h4>
<pre>public&nbsp;<a href="../../../de/payleven/payment/PaymentTask.html" title="class in de.payleven.payment">PaymentTask</a>&nbsp;createPaymentTask(<a href="../../../de/payleven/payment/PaymentRequest.html" title="class in de.payleven.payment">PaymentRequest</a>&nbsp;paymentRequest,
                            <a href="../../../de/payleven/payment/Device.html" title="class in de.payleven.payment">Device</a>&nbsp;device)</pre>
<div class="block">Creates a payment task which is used to initiate payment process. Note that returned task
 can only be started once.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>paymentRequest</code> - describes payment details</dd><dd><code>device</code> - payleven device to start the payment with</dd>
<dt><span class="strong">Returns:</span></dt><dd>initialize payment task</dd></dl>
</li>
</ul>
<a name="isDevicePrepared(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isDevicePrepared</h4>
<pre>public&nbsp;boolean&nbsp;isDevicePrepared(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;deviceId)</pre>
<div class="block">Checks if the device with the provided id is ready for a payment. This mean device is
 configured and connected to the Android device.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>deviceId</code> - id of the device</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../de/payleven/payment/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>version 1.0.0</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../de/payleven/payment/PairedDevice.html" title="class in de.payleven.payment"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../de/payleven/payment/PaylevenCommunicationService.html" title="class in de.payleven.payment"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?de/payleven/payment/Payleven.html" target="_top">Frames</a></li>
<li><a href="Payleven.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
